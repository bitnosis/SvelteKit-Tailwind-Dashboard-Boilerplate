import{w as v}from"./index-f7e543ab.js";/*! js-cookie v3.0.1 | MIT */function l(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var u in a)e[u]=a[u]}return e}var C={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function p(e,r){function a(t,c,n){if(!(typeof document>"u")){n=l({},r,n),typeof n.expires=="number"&&(n.expires=new Date(Date.now()+n.expires*864e5)),n.expires&&(n.expires=n.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var i in n)!n[i]||(o+="; "+i,n[i]!==!0&&(o+="="+n[i].split(";")[0]));return document.cookie=t+"="+e.write(c,t)+o}}function u(t){if(!(typeof document>"u"||arguments.length&&!t)){for(var c=document.cookie?document.cookie.split("; "):[],n={},o=0;o<c.length;o++){var i=c[o].split("="),h=i.slice(1).join("=");try{var f=decodeURIComponent(i[0]);if(n[f]=e.read(h,f),t===f)break}catch{}}return t?n[t]:n}}return Object.create({set:a,get:u,remove:function(t,c){a(t,"",l({},c,{expires:-1}))},withAttributes:function(t){return p(this.converter,l({},this.attributes,t))},withConverter:function(t){return p(l({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(e)}})}var s=p(C,{path:"/"});const d=v({user:null,theme:null}),R=e=>{d.set({user:e.user,theme:e.theme}),w(e.theme)},w=(e=null)=>{d.update(r=>(s.get("theme")&&e===null&&(e=s.get("theme")),r.theme=e,s.get("theme")&&m("theme",e),e=="dark"?document.body.classList.add(e):document.body.classList.remove("dark"),r))},U=e=>{d.set({user:e.id,theme:"light"}),e.user===null?g("user"):m("user",e.id),s.get("theme")||m("theme","light")},j=async()=>{await g("user"),d.set({user:null,theme:"light"}),window.location.replace("/")},m=async(e,r)=>{await s.set(e,r,{expires:7})},g=async e=>{await s.remove(e,{path:"/"})};export{R as a,U as b,j as l,w as s,d as u};
