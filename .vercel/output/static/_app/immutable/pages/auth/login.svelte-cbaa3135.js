import{S as p,i as g,s as h,w as d,x as _,y as $,f as x,t as w,B as y,l as c,r as L,m as l,n as m,u as b,h as s,p as u,b as S,G as f,E as v}from"../../chunks/index-1ad192d9.js";import{b as A}from"../../chunks/userStore-c8b7de9a.js";import{s as C}from"../../chunks/supabaseClient-62fcc2af.js";import{L as E}from"../../chunks/LoginForm-588bad00.js";import"../../chunks/index-f7e543ab.js";import"../../chunks/preload-helper-c28b9807.js";function F(o){let t,n,e;return{c(){t=c("a"),n=c("small"),e=L("Create new account"),this.h()},l(a){t=l(a,"A",{href:!0,class:!0});var r=m(t);n=l(r,"SMALL",{});var i=m(n);e=b(i,"Create new account"),i.forEach(s),r.forEach(s),this.h()},h(){u(t,"href","/auth/signup"),u(t,"class","text-gray-600 dark:text-gray-400")},m(a,r){S(a,t,r),f(t,n),f(n,e)},p:v,d(a){a&&s(t)}}}function I(o){let t,n;return t=new E({props:{formTitle:"Login to Your Account",buttonText:"Sign In",handleForm:o[0],$$slots:{default:[F]},$$scope:{ctx:o}}}),{c(){d(t.$$.fragment)},l(e){_(t.$$.fragment,e)},m(e,a){$(t,e,a),n=!0},p(e,[a]){const r={};a&2&&(r.$$scope={dirty:a,ctx:e}),t.$set(r)},i(e){n||(x(t.$$.fragment,e),n=!0)},o(e){w(t.$$.fragment,e),n=!1},d(e){y(t,e)}}}async function Y({session:o}){return o.user?{status:302,redirect:"/app"}:{}}function T(o){return[async(n,e)=>{const{user:a,error:r}=await C.auth.signIn({email:n,password:e});A(a),a&&window.location.replace("/app")}]}class j extends p{constructor(t){super(),g(this,t,T,I,h,{})}}export{j as default,Y as load};
