import{S as f,i as d,s as g,w as h,x as _,y as $,f as y,t as x,B as A,l,r as w,m as c,n as m,u as L,h as o,p as u,b as v,G as p,E as b}from"../../chunks/index-1ad192d9.js";import{b as S}from"../../chunks/userStore-c8b7de9a.js";import{s as U}from"../../chunks/supabaseClient-62fcc2af.js";import{L as E}from"../../chunks/LoginForm-588bad00.js";import"../../chunks/index-f7e543ab.js";import"../../chunks/preload-helper-c28b9807.js";function C(s){let t,n,e;return{c(){t=l("a"),n=l("small"),e=w("Already Have an Account? Login"),this.h()},l(a){t=c(a,"A",{href:!0,class:!0});var r=m(t);n=c(r,"SMALL",{});var i=m(n);e=L(i,"Already Have an Account? Login"),i.forEach(o),r.forEach(o),this.h()},h(){u(t,"href","/auth/login"),u(t,"class","text-gray-600 dark:text-gray-400")},m(a,r){v(a,t,r),p(t,n),p(n,e)},p:b,d(a){a&&o(t)}}}function F(s){let t,n;return t=new E({props:{formTitle:"Create a New Account",buttonText:"Register",handleForm:s[0],$$slots:{default:[C]},$$scope:{ctx:s}}}),{c(){h(t.$$.fragment)},l(e){_(t.$$.fragment,e)},m(e,a){$(t,e,a),n=!0},p(e,[a]){const r={};a&2&&(r.$$scope={dirty:a,ctx:e}),t.$set(r)},i(e){n||(y(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){A(t,e)}}}async function N({session:s}){return s.user!=null?{status:302,redirect:"/app"}:{}}function H(s){return[async(n,e)=>{const{user:a,error:r}=await U.auth.signUp({email:n,password:e});S(a),a&&window.location.replace("/app")}]}class R extends f{constructor(t){super(),d(this,t,H,F,g,{})}}export{R as default,N as load};
